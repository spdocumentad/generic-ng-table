<app-icon-button
  [matMenuTriggerFor]="menu"
  [config]="{
    name: 'view_column',
    size: '20px',
    isSvg: false
  }"
  (click)="onStopPropagation($event)"
/>

<mat-menu class="column-filter-menu" #menu="matMenu">
  <div class="column-filter-container py-2" (click)="onStopPropagation($event)">
    <div
      class="px-4 py-2 text-xs font-bold uppercase text-gray-400 tracking-wider"
    >
      Display Columns
    </div>

    <div class="flex flex-col">
      @for (col of columnData(); track col.field) {
      <div class="px-4 py-1 hover:bg-gray-100 transition-colors">
        <mat-checkbox
          [checked]="col.isVisible"
          (change)="onToggle(col.field, $event.checked)"
          color="primary"
          class="w-full"
        >
          <span class="text-sm text-gray-700">{{ col.label }}</span>
        </mat-checkbox>
      </div>
      }
    </div>
  </div>
</mat-menu>
